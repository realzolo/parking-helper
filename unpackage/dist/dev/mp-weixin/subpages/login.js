(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/login"],{114:function(n,e,t){"use strict";(function(n){t(5);r(t(3));var e=r(t(115));function r(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t(1)["createPage"])},115:function(n,e,t){"use strict";t.r(e);var r=t(116),u=t(118);for(var c in u)"default"!==c&&function(n){t.d(e,n,(function(){return u[n]}))}(c);t(125);var i,o=t(11),a=Object(o["default"])(u["default"],r["render"],r["staticRenderFns"],!1,null,"4278492c",null,!1,r["components"],i);a.options.__file="subpages/login.vue",e["default"]=a.exports},116:function(n,e,t){"use strict";t.r(e);var r=t(117);t.d(e,"render",(function(){return r["render"]})),t.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(e,"components",(function(){return r["components"]}))},117:function(n,e,t){"use strict";var r;t.r(e),t.d(e,"render",(function(){return u})),t.d(e,"staticRenderFns",(function(){return i})),t.d(e,"recyclableRender",(function(){return c})),t.d(e,"components",(function(){return r}));var u=function(){var n=this,e=n.$createElement;n._self._c},c=!1,i=[];u._withStripped=!0},118:function(n,e,t){"use strict";t.r(e);var r=t(119),u=t.n(r);for(var c in r)"default"!==c&&function(n){t.d(e,n,(function(){return r[n]}))}(c);e["default"]=u.a},119:function(n,e,t){"use strict";(function(n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=c(t(121));function c(n){return n&&n.__esModule?n:{default:n}}function i(n,e,t,r,u,c,i){try{var o=n[c](i),a=o.value}catch(s){return void t(s)}o.done?e(a):Promise.resolve(a).then(r,u)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(r,u){var c=n.apply(e,t);function o(n){i(c,r,u,o,a,"next",n)}function a(n){i(c,r,u,o,a,"throw",n)}o(void 0)}))}}var a=n.importObject("user"),s={methods:{toLogin:function(){var n=this;return o(u.default.mark((function e(){var t;return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getUserInfo();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:r.login({provider:"weixin"}).then(function(){var n=o(u.default.mark((function n(e){var c;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.login(e[1].code,t);case 2:c=n.sent,c.code,r.setStorageSync("_user",{user_id:c.user_id,user_info:t}),r.reLaunch({url:"/pages/index/index"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})))()},getUserInfo:function(){return new Promise((function(n,e){r.getUserProfile({desc:"获取用户信息"}).then((function(e){var t=e[1].userInfo,r=t.avatarUrl,u=t.nickName;n({avatar:r,nickname:u})})).catch((function(n){}))}))}}};e.default=s}).call(this,t(120)["default"],t(1)["default"])},125:function(n,e,t){"use strict";t.r(e);var r=t(126),u=t.n(r);for(var c in r)"default"!==c&&function(n){t.d(e,n,(function(){return r[n]}))}(c);e["default"]=u.a},126:function(n,e,t){}},[[114,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/subpages/login.js.map